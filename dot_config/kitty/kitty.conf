
# =============================================================================
# 外观设置
# =============================================================================

# 字体
font_family      JetBrainsMono Nerd Font Mono Bold
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        16.0
line_height      1.1

# 窗口透明与模糊（macOS）
background_opacity 0.98
# macos_titlebar_color background
macos_window_blur 50

# 窗口装饰
window_padding_width 10
window_padding_height 10
hide_window_decorations titlebar-only

# 初始窗口大小
initial_window_width  120c
initial_window_height 35c

# 窗口布局
remember_window_size  no
enabled_layouts splits, stack

# =============================================================================
# Tab 栏设置
# =============================================================================

tab_bar_edge top
tab_bar_style powerline
tab_max_width 32
# inactive_tab_background #32302f
# active_tab_background   #504945
# active_tab_foreground   #ebdbb2
# inactive_tab_foreground #a89984

# 仅一个 tab 时隐藏
hide_tab_bar_if_only_one_tab yes

# =============================================================================
# 光标
# =============================================================================

# cursor none
cursor_blink_interval -1 ease-in-out
cursor_shape block
cursor_beam_thickness 1.5
cursor_trail 3
cursor_trail_color #f9e2af 

# =============================================================================
# 性能与行为
# =============================================================================

scrollback_lines -1
scrollback_fill_enlarged_window yes
enable_audio_bell no
confirm_os_window_close 0
detect_urls yes
input_delay 0
sync_to_monitor no

# =============================================================================
# 鼠标与 URL
# =============================================================================

url_prefixes file ftp ftps git http https mailto sftp ssh
strip_trailing_spaces always
select_by_word_characters @-./_~?&=%+#

# =============================================================================
# Shell 设置
# =============================================================================

# 使用系统默认 shell
term xterm-256color

# =============================================================================
# 远程控制
# =============================================================================

allow_remote_control socket-only
listen_on unix:/tmp/kitty_term
remote_control_password "" kitten

# =============================================================================
# macOS 特定设置
# =============================================================================

macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_show_window_title_in window
macos_colorspace displayp3
text_composition_strategy 1.2 20

# =============================================================================
# 快捷键
# =============================================================================

clear_all_shortcuts yes

# --- 特殊按键 ---
map ctrl+i kitten keymap.py "C-i"
# 通过 neovim 编辑当前命令 (zsh)
map ctrl+, send_text normal,application  \x1b[44;5u

# --- 剪贴板 ---
map cmd+c        copy_to_clipboard
map cmd+v        paste_from_clipboard
map cmd+shift+v  paste_from_selection

# --- 滚动 ---
map cmd+/        scroll_to_prompt -1
map cmd+shift+/  scroll_to_prompt 1
map cmd+alt+/  show_last_command_output

# --- 窗口管理 ---
map cmd+ctrl+u   kitten window.py +split top
map cmd+ctrl+e   kitten window.py +split bottom
map cmd+ctrl+n   kitten window.py +split left
map cmd+ctrl+i   kitten window.py +split right
map cmd+w        kitten window.py -close
map cmd+u        kitten window.py -jump top
map cmd+e        kitten window.py -jump bottom
map cmd+n        kitten window.py -jump left
map cmd+i        kitten window.py -jump right
map cmd+shift+u  kitten window.py -resize top
map cmd+shift+e  kitten window.py -resize bottom
map cmd+shift+n  kitten window.py -resize left
map cmd+shift+i  kitten window.py -resize right
map cmd+alt+u    kitten window.py -move top
map cmd+alt+e    kitten window.py -move bottom
map cmd+alt+n    kitten window.py -move left
map cmd+alt+i    kitten window.py -move right
map cmd+enter toggle_layout stack

# --- Tab 管理 ---
map cmd+t        new_tab
map cmd+shift+w  close_tab
map cmd+shift+k  set_tab_title
map cmd+[      previous_tab
map cmd+]      next_tab
map cmd+alt+[  move_tab_forward
map cmd+alt+]  move_tab_backward
map cmd+1  goto_tab 1
map cmd+2  goto_tab 2
map cmd+3  goto_tab 3
map cmd+4  goto_tab 4
map cmd+5  goto_tab 5
map cmd+6  goto_tab 6

# --- 字体缩放 ---
map cmd+equal  change_font_size all +1.0
map cmd+minus  change_font_size all -1.0
map cmd+0      change_font_size all 0

# --- Hints (选择并操作可见文本) ---
map cmd+o        open_url_with_hints
map cmd+q        kitten window.py -quit
map cmd+l        kitten hints --type line --program -
map cmd+p        kitten hints --type path --program -
map cmd+shift+p  kitten hints --type path

# --- 杂项 ---
map cmd+backspace  send_text all \u17
map cmd+s          kitten keymap.py "S-s"
map cmd+r          clear_terminal to_cursor active
map cmd+f          combine : show_scrollback : send_text normal,application /
map cmd+shift+f    toggle_maximized

# BEGIN_KITTY_THEME
# Gruvbox Material Dark Medium
include current-theme.conf
# END_KITTY_THEME
