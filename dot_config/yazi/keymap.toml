"$schema" = "https://yazi-rs.github.io/schemas/keymap.json"

# Colemak keyboard layout for yazi
# Navigation: neiu diamond (like hjkl in QWERTY)

[mgr]

prepend_keymap = [
	# Core Navigation (neiu diamond)
	{ on = "u", run = "arrow prev" },
	{ on = "e", run = "arrow next" },
	{ on = "n", run = "leave" },
	{ on = "i", run = "plugin smart-enter" },

	# Fast Navigation (Shift + neiu)
	{ on = "U", run = "arrow -5" },
	{ on = "E", run = "arrow 5" },
	{ on = "N", run = "back" },
	{ on = "I", run = "forward" },

	# Seek in preview (Ctrl + u/e)
	{ on = "<C-u>", run = "seek -5" },
	{ on = "<C-e>", run = "seek 5" },

	# Reassigned functions
	{ on = "h", run = "sort extension" },
	{ on = "=", run = "find_arrow" },
	{ on = "-", run = "find_arrow --previous" },

	# Compress plugin
	{ on = [ "c", "a" ], run = "plugin compress", desc = "压缩选中文件" },
	{ on = [ "c", "z" ], run = "plugin compress 'zip'", desc = "压缩为 zip" },
	{ on = [ "c", "7" ], run = "plugin compress '7z'", desc = "压缩为 7z" },
	{ on = [ "c", "g" ], run = "plugin compress 'tar.gz'", desc = "压缩为 tar.gz" },
]

[tasks]

prepend_keymap = [
	{ on = "u", run = "arrow prev" },
	{ on = "e", run = "arrow next" },
]

[spot]

prepend_keymap = [
	{ on = "u", run = "arrow prev" },
	{ on = "e", run = "arrow next" },
	{ on = "n", run = "swipe prev" },
	{ on = "i", run = "swipe next" },
]

[pick]

prepend_keymap = [
	{ on = "u", run = "arrow prev" },
	{ on = "e", run = "arrow next" },
]

[input]

prepend_keymap = [
	# Insert mode (Colemak: k replaces i)
	{ on = "k", run = "insert" },
	{ on = "K", run = [ "move bol", "insert" ] },

	# Character-wise movement
	{ on = "n", run = "move -1" },
	{ on = "i", run = "move 1" },

	# Word-wise movement
	{ on = "h", run = "forward --end-of-word" },

	# Line-wise movement
	{ on = "N", run = "move bol" },
	{ on = "I", run = "move eol" },

	# Undo/Redo (Colemak: l replaces u)
	{ on = "l", run = "undo" },
	{ on = "L", run = "redo" },
]

[confirm]

prepend_keymap = [
	{ on = "u", run = "arrow prev" },
	{ on = "e", run = "arrow next" },
]

[cmp]

prepend_keymap = [
	{ on = "<C-u>", run = "arrow prev" },
	{ on = "<C-e>", run = "arrow next" },
]

[help]

prepend_keymap = [
	{ on = "u", run = "arrow prev" },
	{ on = "e", run = "arrow next" },
	{ on = "U", run = "arrow -5" },
	{ on = "E", run = "arrow 5" },
]
